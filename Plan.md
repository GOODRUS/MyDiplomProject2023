# _План автоматизации_ #
## _Перечень автоматизируемых сценариев_ ##
### Frontend сценарии ###
1. Оплата тура при валидном заполнении всех полей формы карты
2. Оплата тура в кредит при валидном заполнении всех полей формы карты
3. Отказ в оплате тура при валидном заполнении полей формы по declined карты
4. Отказ в кредите на покупку тура при валидном заполнении полей формы по declined карты
5. Переход между оплатой тура и оплатой тура в кредит с заполненными валидными данными формой карты
6. Заполнение поля "Номер карты" номером действующей карты и последующим заполнением полей формы валидными данными
7. Заполнение поля "Номер карты" случайно сгенерированным номером карты и последующим заполнением полей формы валидными данными
8. Заполнение поля "Номер карты" значением превышающую допустимую валидную длину карты, остальные поля формы заполнить валидными данными
9. Заполнение поля "Номер карты" значением менее допустимой валидной длинны карты, остальные поля формы заполнить валидными данными
10. Оставить поле "Номер карты" пустым, остальные поля формы заполнить валидными данными
11. Ввод действующего номера карты в поле "Номер карты" с использованием пробела через каждые 4 цифры номера карты с последующим заполнением полей формы валидными данными
12. Заполнение поля "Месяц" любым месяцем от 1 до 12 с использованием 0 перед числом, если число месяца меньше 10, остальные поля формы заполнить валидными данными
13. Заполнение поля "Месяц" любого числа месяца от 1 до 10 без использования 0 перед числом, остальные поля формы заполнить валидными данными
14. Заполнение поля "Месяц" нулевого значения "0", остальные поля формы заполнить валидными данными
15. Заполнение поля "Месяц" двумя нолями "00", остальные поля формы заполнить валидными данными
16. Поле "Месяц" оставить пустым всё остальные поля формы заполнить валидными данными
17. Заполнение поля "Месяц" числом превышающим число месяцев в году, всё остальные поля формы заполнить валидными данными
18. Заполнение поля "Год" годом не превышающим число текущего год на 5 лет, остальные поля формы заполнить валидными данными
19. Заполнение поля "Год" текущим годом и поля "Месяц" текущим месяцем, остальные поля формы заполнить валидными данными
20. Заполнение поля "Год" текущим годом и поля "Месяц" предыдущим месяцем, остальные поля формы заполнить валидными данными
21. Заполнение поля "Год" текущим годом и поля "Месяц" следующим месяцем, остальные поля формы заполнить валидными данными
22. Заполнение поля "Год" предыдущим годом, остальные поля формы заполнить валидными данными
23. Заполнение поля "Год" нулём "0", остальные поля формы заполнить валидными данными
24. Заполнение поля "Год" двумя нулями "00", остальные поля формы заполнить валидными данными
25. Заполнение поля "Год" числом превышающим текущий год на 20 лет, остальные поля формы заполнить валидными данными
26. Поле "Год" оставить пустым, остальные поля формы заполнить валидными данными
27. Заполнение поля "Владелец" валидными данными с указанием наименования владельца, остальные поля формы заполнить валидными данными
28. Заполнения поля "Владелец" с использованием дефиса между именами, остальные поля формы заполнить валидными данными
29. Заполнение поля "Владелец" с использованием пробела между именами, остальные поля формы заполнить валидными данными 
30. Заполнение поля "Владелец" с использованием пробела в начале и в конце, остальные поля формы заполнить валидными данными
31. Заполнение поля "Владелец" с использованием цифр, остальные поля формы заполнить валидными данными
32. Заполнение поля "Владелец" с использованием различных спецсимволов, остальные поля формы заполнить валидными данными
33. Заполнение поля "Владелец" на кириллице, остальные поля формы заполнить валидными данными
34. Заполнение поля "Владелец" на латинице нижнего регистра, остальные поля формы заполнить валидными данными
35. Заполнение поля "Владелец" сгенерированным наименованием, остальные поля формы заполнить валидными данными
36. Поле "Владелец" оставить пустым, остальные поля формы заполнить валидными данными
37. Заполнение поля CVC/CVV любыми тремя цифрами, остальные поля формы заполнить валидными данными
38. Заполнение поля CVC/CVV случайно сгенерированным значением, остальные поля формы заполнить валидными данными
39. Заполнение поля CVC/CVV любыми двумя цифрами, остальные поля формы заполнить валидными данными
40. Заполнение поля CVC/CVV любой одной цифрой, остальные поля формы заполнить валидными данными
41. Оставить поле CVC/CVV не заполненным, остальные поля формы заполнить валидными данными

### Backend сценарии ###
1. Отправка POST запроса платежа с валидно* заполненным body и данными действующей карты на http://localhost:9999/payment
2. Отправка POST запроса на кредит с валидно* заполненным body и данными действующей карты на http://localhost:9999/credit
3. Отправка POST запроса платежа с валидно* заполненным body и данными declined карты на http://localhost:9999/payment
4. Отправка POST запроса на кредит с валидно* заполненным body и данными declined карты на http://localhost:9999/credit
5. Отправка POST запроса с пустым body на http://localhost:9999/payment
6. Отправка POST запроса с пустым body на http://localhost:9999/credit
7. Отправка POST запроса платежа с пустым значением у атрибута number в body, остальные данные валидны на http://localhost:9999/payment
8. Отправка POST запроса на кредит с пустым значением у атрибута number в body, остальные данные валидны  на http://localhost:9999/credit
9. Отправка POST запроса платежа с пустым значением у атрибута month в body, остальные данные валидны на http://localhost:9999/payment
10. Отправка POST запроса на кредит с пустым значением у атрибута month в body, остальные данные валидны на http://localhost:9999/credit
11. Отправка POST запроса платежа с пустым значением у атрибута year в body, остальные данные валидны на http://localhost:9999/payment
12. Отправка POST запроса на кредит с пустым значением у атрибута year в body, остальные данные валидны на http://localhost:9999/credit
13. Отправка POST запроса платежа с пустым значением у атрибута holder в body, остальные данные валидны на http://localhost:9999/payment
14. Отправка POST запроса на кредит с пустым значением у атрибута holder в body, остальные данные валидны на http://localhost:9999/credit
15. Отправка POST запроса платежа с пустым значением у атрибута CVC/CVV в body, остальные данные валидны на http://localhost:9999/payment
16. Отправка POST запроса на кредит с пустым значением у атрибута CVC/CVV в body, остальные данные валидны на http://localhost:9999/credit

*Примечание** 

Валидными значениями для полей являются:

- длинна карты может иметь комбинацию из 13, 16, 18, 19
- значением месяца может являться число от 1 до 12
- значением года текущий год и до 20 лет вперёд
- наименованием владельца карты является наименование на латинице в верхнем регистре, могут быть использованы дефис и пробел, первый и последний символ должны быть буквами
- CVC/CVV: комбинация из трёх цифр

## _Перечень используемых инструментов с обоснованием выбора_ ##

**_IntelliJ IDEA_** - имеет поддержку фреймворков которые будут использованы при работе над проектом.

**_Selenide_** - используется для простоты и удобства взаимодействия с элементами веб страницы. Не требуется на прямую взаимодействовать с WebDriver, предусмотрен таймаут во время смены элементов на странице, также его можно настроить через конфигуратор.

**_JUnit5_** - тестовая среда, позволяет обнаруживать ошибки на ранних стадиях, более популярна чем TESTNG, больше комьюнити.

**_JUnit Jupiter_** - содержит необходимые аннотации, классы, методы для написания тестов в JUnit5.

**_Allure_** - создаёт простые и понятные отчёты авто-тестов, прост в запуске.

**_Lombok_**- фреймворк для авто-генерации кода с целью улучшить читаемость тестов.

**_REST Assured_** - популярный REST-клиент с открытым исходным кодом для тестирования API на Java. Позволяет писать тесты понятным и описательным языком, поддерживает различные типы XML и JSON запросов.

**_Cucumber_** - позволяет сделать тесты более легкими и доступными для понимания.

**_JavaFaker_** - позволит генерировать данные для ввода.

**_DBUtils_** - облегчает обработку вызовов JDBC без утечки ресурсов и для получения более чистого кода.

**_Gson_** - прост в использовании, занимает мало памяти, создаёт чистый и компактный результат JSON, который легко читается.

## _Перечень и описание возможных рисков при автоматизации_ ##

1. Изменение в структуре web-страницы тестируемого сервиса может привести не актуальности и невоспроизводимости тестов
2. Одновременное использование БД: MYSQL и POSTGRESQL может привести дополнительным временным затратам и техническим сложностям при настройке SUT
3. Очистка БД от записей после каждого прогона тестов
4. Использование заглушки в качестве банковского сервиса не позволяет обнаружить критических дефектов реального сервиса
5. Невоспроизводимость ранее написанных API тестов, в случае изменения структуры запросов
6. Автоматизированное тестирование несёт больше временных затрат нежели ручное

## _Интервальная оценка с учётом рисков в часах_ ##
Настройка SUT, создание необходимых дата-хелперов и page object: 10 - 13 часов

Написание автотестов: 10 - 12 часов

Создание баг-репортов и отчёта по результатам прогона тестов: 5 - 6 часов

Отчёт по результатам автоматизации: 3 часа

Подключение CI: 5 часов

В итоге 33 - 39 часов на проект

## _План сдачи работ_ ##

Авто-тесты - 11.06.2023

Баг-репортов и отчёта по результатам прогона тестов - 13.06.2023

Отчёт по результатам автоматизации - 14.06.2023


